[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "Published by Viet Tran on the 15th of April 2023.\nFor any feedback, please contact viettran0411@gmail.com"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Victorian Car Accidents involving Pedestrians",
    "section": "",
    "text": "Inspired by Danny Cunningham’s article SUVs are Killing People, this notebook aims to investigate accidents involving cars and pedestrians in the state of Victoria, Australia. The key question this notebook aims to investigate is: What is the injury risk that different types of common passenger vehicles have on pedestrians in car accidents?\nThe Federal Chamber of Automotive Industries reports a uptrend of larger passenger vehicle sales in Australia. The latest March 2023 report demonstrates this with SUV sales far outweighing passenger vehicle sales. The Guardian also has a great visual showing the trend over the years.\nPublic data on Victorian car accidents can be found on VicRoads and from Data Vic\nLoading & cleaning the crash data\nWe first load in the three relevant tables from the Data Vic Crash Stats dataset: Accident, Person & Vehicle. The crash statistics data ranges from January 2006 to October 2020.\nWe will only look at car accidents involving pedestrians and cars that are labelled as ‘cars’, ‘station wagons’ and ‘utility’. The data also filters for accidents with a speed limit of 70 and below to rule out data entry errors and only look at accidents on roads where pedestrians are present.\nAs many vehicles are labelled differently as cars, station wagons or utility trucks, we will categorize the same make & model based on the most frequent label. E.g. The Toyota Hilux is labelled as a car, station wagon and utility vehicle in the vehicle table depending on the individual crash id. Since it is labelled as a utility vehicle more often, we will categorise it as a utility vehicle.\n\nlibrary(tidyverse)\nlibrary(lubridate)\n\naccident <- read_csv(\"ACCIDENT.csv\") %>% \n  select(-c(DIRECTORY, EDITION, PAGE, \n            GRID_REFERENCE_X, GRID_REFERENCE_Y, NODE_ID)) %>%\n  mutate(ACCIDENTDATE = lubridate::dmy(ACCIDENTDATE), # Parsing dates\n         SPEED_ZONE = as.numeric(SPEED_ZONE)) \n\nperson <- read_csv(\"PERSON.csv\") %>%\n  select(-c(VEHICLE_ID, SEATING_POSITION, HELMET_BELT_WORN, EJECTED_CODE)) %>%\n  filter(ROAD_USER_TYPE == 1) # 1 being pedestrians\n\nvehicle <- read_csv(\"VEHICLE.csv\") %>%\n  select(-c(INITIAL_DIRECTION, CONSTRUCTION_TYPE, FUEL_TYPE, FINAL_DIRECTION, TRAILER_TYPE,\n            VEHICLE_COLOUR_1, VEHICLE_COLOUR_2, CAUGHT_FIRE, LAMPS, OWNER_POSTCODE, TOWED_AWAY_FLAG)) %>%\n  mutate(Make_Model = paste(gsub(\" \", \"\", VEHICLE_MAKE), VEHICLE_MODEL))\n\n# List of Vehicles of interest\nveh_interest <- list('Car', 'Station Wagon', 'Utility')\n\n# Creating a combined table from accident, person, vehicle\npedestrians <- left_join(accident, person, by = 'ACCIDENT_NO') %>%\n  left_join(., vehicle, by = 'ACCIDENT_NO') %>%\n  filter(ACCIDENT_TYPE == 2,  # 2 being struck pedestrians\n         `Vehicle Type Desc` %in% veh_interest,\n         SPEED_ZONE <= 70) \n\n# pedestrian d.f but with Vehicle Type Desc based on frequency of occurence\np_recat <- pedestrians %>%\n  group_by(`Vehicle Type Desc`) %>%\n  summarise(n = n()) %>%\n  left_join(pedestrians, by = c(\"Vehicle Type Desc\")) %>%\n  group_by(Make_Model) %>%\n  arrange(desc(n), .by_group = TRUE) %>%\n  mutate(`Vehicle Type Desc` = first(`Vehicle Type Desc`)) %>%\n  select(-n)\n\np_recat\n\n# A tibble: 14,016 × 61\n# Groups:   Make_Model [1,558]\n   Vehicle …¹ ACCID…² ACCIDENT…³ ACCID…⁴ ACCID…⁵ Accid…⁶ DAY_O…⁷ Day W…⁸ DCA_C…⁹\n   <chr>      <chr>   <date>     <time>    <dbl> <chr>     <dbl> <chr>     <dbl>\n 1 Car        T20180… 2018-04-28 21:40         2 Struck…       7 Saturd…     100\n 2 Utility    T20180… 2018-01-08 21:47         2 Struck…       2 Monday      102\n 3 Car        T20070… 2006-12-16 17:00         2 Struck…       7 Saturd…     100\n 4 Car        T20110… 2011-04-28 17:20         2 Struck…       5 Thursd…     102\n 5 Car        T20160… 2016-08-20 21:45         2 Struck…       7 Saturd…     100\n 6 Car        T20110… 2011-12-13 12:35         2 Struck…       3 Tuesday     100\n 7 Car        T20080… 2008-09-04 15:40         2 Struck…       5 Thursd…     107\n 8 Car        T20090… 2009-03-24 10:00         2 Struck…       3 Tuesday     100\n 9 Car        T20100… 2010-09-11 17:10         2 Struck…       7 Saturd…     103\n10 Car        T20110… 2011-06-25 10:08         2 Struck…       7 Saturd…     102\n# … with 14,006 more rows, 52 more variables: `DCA Description` <chr>,\n#   LIGHT_CONDITION <dbl>, `Light Condition Desc` <chr>, NO_OF_VEHICLES <dbl>,\n#   NO_PERSONS <dbl>, NO_PERSONS_INJ_2 <dbl>, NO_PERSONS_INJ_3 <dbl>,\n#   NO_PERSONS_KILLED <dbl>, NO_PERSONS_NOT_INJ <dbl>, POLICE_ATTEND <dbl>,\n#   ROAD_GEOMETRY <dbl>, `Road Geometry Desc` <chr>, SEVERITY <dbl>,\n#   SPEED_ZONE <dbl>, PERSON_ID <chr>, SEX <chr>, AGE <dbl>, `Age Group` <chr>,\n#   INJ_LEVEL <dbl>, `Inj Level Desc` <chr>, ROAD_USER_TYPE <dbl>, …\n\n\nA quick look at the vehicle make/model and its categorisation:\n\nlibrary(reactable)\n\nmake_model <- p_recat %>% group_by(Make_Model, `Vehicle Type Desc`) %>% \n       summarise(n = n()) %>% arrange(desc(n)) %>% \n       pivot_wider(names_from = `Vehicle Type Desc`, values_from = n)\n\nreactable::reactable(make_model)\n\n\n\n\n\n\nExploring the data\nVehicle accidents involving pedestrians occur with vehicles labelled as cars more frequently. The number of crashes per vehicle type is outlined below:\n\ninj_factor <- c(\"Not injured\", \"Other injury\",\"Serious injury\",\"Fatality\")\n\ninjury <- p_recat %>%\n  mutate(`Inj Level Desc` = factor(`Inj Level Desc`, levels=inj_factor)) %>%\n  filter(!is.na(`Inj Level Desc`)) %>%\n  select(`Vehicle Type Desc`, `Inj Level Desc`) %>%\n  group_by(`Vehicle Type Desc`, `Inj Level Desc`) %>%\n  summarise(n = n())\n\n\ninjury_tbl <- injury %>%\n  pivot_wider(names_from = `Inj Level Desc`, values_from = n) %>%\n  rowwise() %>%\n  mutate(sum = sum(c_across(where(is.numeric)), na.rm = T)) %>%\n  ungroup() %>%\n  arrange(desc(sum))\n\ninjury_tbl\n\n# A tibble: 3 × 6\n  `Vehicle Type Desc` `Not injured` `Other injury` Serious injur…¹ Fatal…²   sum\n  <chr>                       <int>          <int>           <int>   <int> <int>\n1 Car                           240           7225            5290     298 13053\n2 Station Wagon                  14            412             305      25   756\n3 Utility                         6             92              83       4   185\n# … with abbreviated variable names ¹​`Serious injury`, ²​Fatality\n\n\n\nlibrary(plotly)\n\ninjury_bar <- injury %>% ggplot(aes(x = `Vehicle Type Desc`, y = n, fill = `Inj Level Desc`)) +\n  geom_col(position = \"fill\") + ylab(\"proportion\")\n\n\nplotly::ggplotly(injury_bar)\n\n\n\n\n\nLinear regression estimating the effect of vehicle types, vehicle manufacture year & speed limit on pedestrian fatalities:\n\nmodel_df <- p_recat %>%\n  select(ACCIDENT_NO, VEHICLE_MAKE, VEHICLE_MODEL, Make_Model, `Vehicle Type Desc`,\n         VEHICLE_BODY_STYLE ,`Inj Level Desc`, INJ_LEVEL, TARE_WEIGHT, SPEED_ZONE,\n         `Light Condition Desc`, VEHICLE_YEAR_MANUF) %>%\n  mutate(is_station_wagon = ifelse(`Vehicle Type Desc` == 'Station Wagon', TRUE, FALSE),\n         is_utility = ifelse(`Vehicle Type Desc` == 'Utility', TRUE, FALSE),\n         is_car = ifelse(`Vehicle Type Desc` == 'Car', TRUE, FALSE),\n         is_fatal = ifelse(INJ_LEVEL == 1, TRUE, FALSE),\n         is_serious_injury = ifelse(INJ_LEVEL == 2, TRUE, FALSE)) \n\n# Checking Station Wagon Categorisation\nmodel_df %>% filter(`Vehicle Type Desc` == 'Station Wagon') %>% group_by(Make_Model) %>% summarise(n = n()) %>% arrange(desc(n))\n\n# A tibble: 342 × 2\n   Make_Model        n\n   <chr>         <int>\n 1 BMW X5           30\n 2 KIA CARNIV       24\n 3 HONDA CR-V       23\n 4 LROV DISCOV      21\n 5 FORD ESCAPE      18\n 6 JEEP WRANGL      13\n 7 JEEP GRDCHK      12\n 8 LEXUS RX350      12\n 9 JEEP PATRIO      10\n10 DAIHAT TERIOS     9\n# … with 332 more rows\n\nlm_fatal <- lm(is_fatal ~ `Vehicle Type Desc` + SPEED_ZONE, data = model_df)\nsummary(lm_fatal)\n\n\nCall:\nlm(formula = is_fatal ~ `Vehicle Type Desc` + SPEED_ZONE, data = model_df)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-0.05824 -0.03154 -0.01708 -0.01708  1.01184 \n\nCoefficients:\n                                   Estimate Std. Error t value Pr(>|t|)    \n(Intercept)                      -0.0552147  0.0087942  -6.279 3.52e-10 ***\n`Vehicle Type Desc`Station Wagon  0.0122435  0.0056395   2.171   0.0299 *  \n`Vehicle Type Desc`Utility       -0.0008477  0.0111534  -0.076   0.9394    \nSPEED_ZONE                        0.0014458  0.0001611   8.976  < 2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.1506 on 13990 degrees of freedom\n  (22 observations deleted due to missingness)\nMultiple R-squared:  0.005961,  Adjusted R-squared:  0.005748 \nF-statistic: 27.96 on 3 and 13990 DF,  p-value: < 2.2e-16\n\n\nLinear regression estimating the effect of vehicle types, vehicle manufacture year & speed limit on pedestrian serious injuries:\n\nlm_serious <- lm(is_serious_injury ~ `Vehicle Type Desc` + SPEED_ZONE, data = model_df)\nsummary(lm_serious)\n\n\nCall:\nlm(formula = is_serious_injury ~ `Vehicle Type Desc` + SPEED_ZONE, \n    data = model_df)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-0.5363 -0.4377 -0.3838  0.5623  0.7239 \n\nCoefficients:\n                                  Estimate Std. Error t value Pr(>|t|)    \n(Intercept)                      0.1145696  0.0285615   4.011 6.07e-05 ***\n`Vehicle Type Desc`Station Wagon 0.0056356  0.0183156   0.308    0.758    \n`Vehicle Type Desc`Utility       0.0447211  0.0362232   1.235    0.217    \nSPEED_ZONE                       0.0053854  0.0005231  10.294  < 2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.4892 on 13990 degrees of freedom\n  (22 observations deleted due to missingness)\nMultiple R-squared:  0.00762,   Adjusted R-squared:  0.007408 \nF-statistic: 35.81 on 3 and 13990 DF,  p-value: < 2.2e-16\n\n\nFindings\nPedestrian fatalities:\nThe linear regression estimates that station wagons have a statistically significant effect (p < 0.05) in pedestrian fatalities. The linear model estimates that station wagons add an additional 1.12% risk of fatality to pedestrians compared to the cars. The effect of utility vehicles is not significant, thus it is inconclusive whether utility vehicles have any effect of pedestrian fatalities compared to cars.\nTo see the make and models of station wagons/utility vehicles, please refer to the make and model table above in which you are able to sort for station wagons/utility vehicle by clicking on the column headers.\nThe model also estimates a positive significant effect of the speed zone (speed limit) and vehicle manufactured date on fatalities.\nPedestrian serious injuries:\nThe linear regression estimates that both station wagons and utility vehicles have no significant effect on pedestrians in crashes where the pedestrian is considered seriously injured.\nSimilarly to the fatality model, this model also estimates significant positive effects on the speed zone and vehicle manufactured date on fatalities.\nSummary\nThe linear model estimates station wagons increase the risk of fatality by 1.12% compared to cars, which may seem small, however when we see the shift towards SUVs and larger vehicles in Australia, it may result in more pedestrian deaths.\nThe date currently has cars outweighing station wagons in the number of accidents involving pedestrians (Note: The vehicles listed in the data as station wagon are mainly SUVs - see Make Model table). However we may see this shift to station wagons being more frequently involved in pedestrian accidents.\nCould the shift in consumer demand towards larger vehicles sacrifice pedestrian safety for driver/passenger safety in Victoria?\nKey Constraint:\nVehicle descriptions are reliant on data inputted in the individual crash report. This may mean vehicles descriptions may vary across different reports and also vehicle descriptions evolve over time due to shifts in the car industry (e.g. Station Wagons in the 2000s may refer to cars more like the Holden Commodore Wagon, where as in the 2010s it may refer to cars more like Toyota RAV 4).\nThis constraint is addressed by categorising vehicles based on the frequency of their label per make and model."
  }
]